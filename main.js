!function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(0);class r{constructor(t){this.parentEl=t,this.onSubmit=this.onSubmit.bind(this),this.onInput=this.onInput.bind(this),this.onFocus=this.onFocus.bind(this)}static get markup(){return'\n        <form class="cardnumb-form-widget">\n          <div class="control">\n            <ul class="cards">\n                <li><span class="card mir" title="Mir">Visa</span></li>\n                <li><span class="card visa" title="Visa">Visa</span></li>\n                <li><span class="card master" title="Mastercard">Mastercard</span></li>\n                <li><span class="card amex" title="American Express">American Express</span></li>\n                <li><span class="card discover" title="Discover">Discover</span></li>\n                <li><span class="card jcb" title="JCB">JCB</span></li>\n                <li><span class="card diners_club" title="Diners Club">Diners Club</span></li>\n            </ul>\n            <input type="text" id="cardnumb-input" class="input" autocomplete="off">\n            <button class="submit">Click to validate </button>\n            \n          </div>\n        </form>\n        '}static get submitSelector(){return".submit"}static get inputSelector(){return".input"}static get selector(){return".cardnumb-form-widget"}static get allCardsSelector(){return".card"}static get mirCardSelector(){return".card.mir"}static get masterCardSelector(){return".card.master"}static get visaCardSelector(){return".card.visa"}bindToDOM(){this.parentEl.innerHTML=r.markup,this.element=this.parentEl.querySelector(r.selector),this.submit=this.element.querySelector(r.submitSelector),this.input=this.element.querySelector(r.inputSelector),this.allCards=this.element.querySelectorAll(r.allCardsSelector),this.mirCard=this.element.querySelector(r.mirCardSelector),this.masterCard=this.element.querySelector(r.masterCardSelector),this.visaCard=this.element.querySelector(r.visaCardSelector),this.element.addEventListener("submit",this.onSubmit),this.input.addEventListener("input",this.onInput),this.input.addEventListener("input",this.onFocus)}onSubmit(t){t.preventDefault();const{value:e}=this.input;(t=>{let e=0,s=!1;for(let r=t.length-1;r>=0;r-=1){let i=t[r].charCodeAt()-"0".charCodeAt();!0===s&&(i*=2),e+=parseInt(i/10,10),e+=i%10,s=!s}return e%10==0})(e)?(this.input.classList.add("valid"),this.input.classList.remove("invalid")):(this.input.classList.add("invalid"),this.input.classList.remove("valid"))}onInput(){const t=function(t){const e=t.substr(0,1),s=t.substr(0,2);let r="";return"2"===e&&(r="mir"),"4"===e&&(r="visa"),"5"===e&&(r="master"),"34"!==s&&"37"!==s||(r="amex"),"6011"!==t.substr(0,4)&&"644–649"!==t.substr(0,7)&&"65"!==s||(r="discover"),"3528"!==t.substr(0,4)&&"3539"!==t.substr(0,4)&&"3545"!==t.substr(0,4)&&"3532"!==t.substr(0,4)&&"3589"!==t.substr(0,4)||(r="jcb"),"300–305"!==t.substr(0,7)&&"36"!==s&&"38"!==s&&"39"!==s||(r="diners_club"),r}(this.input.value);this.allCards.forEach(t=>{t.classList.remove("active")}),t&&this.element.querySelector(`${r.allCardsSelector}.${t}`).classList.add("active")}onFocus(){this.input.classList.remove("valid"),this.input.classList.remove("invalid")}}const i=document.querySelector(".container");new r(i).bindToDOM()}]);
//# sourceMappingURL=main.js.map